<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit User</title>
    <script type="text/javascript" src="bower_components/webcomponentsjs/webcomponents.js"></script>
    <link rel="import" href="imports/imports.html">
    <link rel="import" href="components/user-data.html">
</head>
<body>
<div class="col-md-12">
    <h1>Edit user</h1>
    <form is="iron-form" method="post" id="form" ="goToList()">
        <user-data edit="true"></user-data>
        <a class="btn btn-default" href="index.html">Back</a>
        <button class="btn btn-primary" type="submit">Save</button>
    </form>
    <script type="text/javascript">
        'use strict';

        var id = getURLParameter('id');
        var userData = document.querySelector('user-data');
        userData.id = id;
        var form = document.querySelector('form');
        form.action = 'http://localhost:3000/api/users/' + id;
        form.addEventListener('iron-form-presubmit', function() {
            this.request.method = 'put';
        });
        form.addEventListener('iron-form-response', function() {
            window.location = 'index.html';
        });

    </script>
</div>
</body>
</html>